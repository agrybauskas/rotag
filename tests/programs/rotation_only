#!/usr/bin/perl

use strict;
use warnings;

use lib "../../lib/perl";
use SidechainModels;

use lib "../lib";
use Utils;

use Data::Dumper;

my $atom_specifier = shift;

# Parses selector argument from string  to proper array.
my %atom_specifier = ( map { $_->[0] => [ split( ",", @$_[1] ) ] }
		    map { [ split( " ", $_ ) ] }
		    split( "&", $atom_specifier ) );

# Selects atom's data for further analysis.
my $atom_site =
    CifParser::obtain_atom_site( <> );

# In Jmol, generates pseudo-atoms which represent positions of atom
# after rotation along dihedral angle.
SidechainModels::rotation_only( $atom_site, \%atom_specifier );
